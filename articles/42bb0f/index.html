<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="description" content="使用 uv + Python 开发一个 MCP 服务从部署到发布全流程"><meta property="og:type" content="article"><meta property="og:title" content="MCP 服务从开发到发布全流程"><meta property="og:url" content="https://www.powercheng.fun/articles/42bb0f/index.html"><meta property="og:site_name" content="Caiden&#39;s Blog"><meta property="og:description" content="使用 uv + Python 开发一个 MCP 服务从部署到发布全流程"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/download.svg"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250709222554763.png"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250709222921057-2071364.png"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250709223233263-2071556.png"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250710203818369-2151100-2151101.png"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250710204256005-2151377.png"><meta property="og:image" content="https://www.powercheng.fun/articles/42bb0f/image-20250710204745951-2151668-2151669.png"><meta property="article:published_time" content="2025-07-07T11:33:21.000Z"><meta property="article:modified_time" content="2025-11-19T03:04:36.699Z"><meta property="article:author" content="Caiden Hou"><meta property="article:tag" content="MCP"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.powercheng.fun/articles/42bb0f/download.svg"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="stylesheet" href="https://gw.alipayobjects.com/os/k/font/lxgwwenkaiscreenr.css"><title>MCP 服务从开发到发布全流程</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/true" title="Caiden&#39;s Blog" type="application/atom+xml"><meta name="generator" content="Hexo 5.4.0"></head><body class="max-width mx-auto px3 ltr"><div id="header-post"><a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" aria-label="顶部" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fa-solid fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" aria-label="上一篇" href="/articles/3322b824/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" aria-label="下一篇" href="/articles/b282b723/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" aria-label="返回顶部" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">上一篇</span> <span id="i-next" class="info" style="display:none">下一篇</span> <span id="i-top" class="info" style="display:none">返回顶部</span> <span id="i-share" class="info" style="display:none">分享文章</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.powercheng.fun/articles/42bb0f/"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/share?url=https://www.powercheng.fun/articles/42bb0f/&text=MCP 服务从开发到发布全流程"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.powercheng.fun/articles/42bb0f/&is_video=false&description=MCP 服务从开发到发布全流程"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=MCP 服务从开发到发布全流程&body=Check out this article: https://www.powercheng.fun/articles/42bb0f/" rel="external nofollow noreferrer"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://getpocket.com/save?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://reddit.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://digg.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" href="http://www.tumblr.com/share/link?url=https://www.powercheng.fun/articles/42bb0f/&name=MCP 服务从开发到发布全流程&description=&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&#34; /&gt;&lt;div class=&#34;.article-gallery&#34;&gt;&lt;p&gt;使用 uv + Python 开发一个 MCP 服务从部署到发布全流程&lt;/p&gt;"><i class="fab fa-tumblr" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.powercheng.fun/articles/42bb0f/&t=MCP 服务从开发到发布全流程"><i class="fab fa-hacker-news" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-MCP-%E6%A6%82%E5%BF%B5%E7%AE%80%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">1. MCP 概念简述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Hello-MCP"><span class="toc-number">2.</span> <span class="toc-text">2. Hello MCP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%BC%80%E5%8F%91"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%8F%91%E5%B8%83"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E8%8E%B7%E5%8F%96-pypi-token"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.2.1 获取 pypi token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E9%85%8D%E7%BD%AE-twine"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.2.2 配置 twine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.2.3 项目配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-%E6%89%93%E5%8C%85"><span class="toc-number">2.2.4.</span> <span class="toc-text">2.2.4 打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-%E5%8F%91%E5%B8%83"><span class="toc-number">2.2.5.</span> <span class="toc-text">2.2.5 发布</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E9%AA%8C%E8%AF%81%E5%8F%8A%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">3. 验证及使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E9%AA%8C%E8%AF%81"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 使用</span></a></li></ol></li></ol></div></span></div><div class="content index py4"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle p-name" itemprop="name headline">MCP 服务从开发到发布全流程</h1><div class="meta"><div class="postdate"><time datetime="2025-07-07T11:33:21.000Z" class="dt-published" itemprop="datePublished">2025-07-07</time> (Updated: <time datetime="2025-11-19T03:04:36.699Z" class="dt-updated" itemprop="dateModified">2025-11-19</time>)</div><div class="article-category"><i class="fa-solid fa-archive"></i> <a class="category-link" href="/categories/AI/">AI</a></div><div class="article-tag"><i class="fa-solid fa-tag"></i> <a class="p-category" href="/tags/MCP/" rel="tag">MCP</a></div></div></header><div class="content e-content" itemprop="articleBody"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css"><div class=".article-gallery"><p>使用 uv + Python 开发一个 MCP 服务从部署到发布全流程</p><span id="more"></span><h1 id="1-MCP-概念简述"><a href="#1-MCP-概念简述" class="headerlink" title="1. MCP 概念简述"></a>1. MCP 概念简述</h1><p>MCP（Model Context Protocol），模型上下文协议，定义了一个模型与外界工具交互的标准。</p><p>一个本地的 MCP 服务，如果想要使用，整体来说有三个角色：</p><ol><li>MCP 客户端（如 Cursor、CherryStudio）这些支持 MCP 的工具，当然也可以自己写代码</li><li>MCP 服务端，一般是通过 uvx 或者 npx 启动在本地的一个服务</li><li>LLM</li></ol><p>大概流程：</p><a href="/articles/42bb0f/download.svg" class="gallery-item"><img src="/articles/42bb0f/download.svg" title="mcp-flow"></a><ol><li>MCP 客户端添加上 MCP 服务，获取 MCP 服务的工具列表数据</li><li>用户和 LLM 对话，Cursor 将工具列表信息和用户信息组合发送给 LLM</li><li>LLM 判断是否需要调用工具，比如说判断出来需要调用查询天气预报工具，就生成天气预报工具的入参返回给 Cursor</li><li>Cursor 用 LLM 给的参数，调用对应 MCP 服务，获取调用结果，将调用结果返回给 LLM</li><li>LLM 根据返回信息进行总结，返回给用户，比如说：根据查询到的结果，北京明天的气温在 35 度，天气晴</li></ol><h1 id="2-Hello-MCP"><a href="#2-Hello-MCP" class="headerlink" title="2. Hello MCP"></a>2. Hello MCP</h1><h2 id="2-1-开发"><a href="#2-1-开发" class="headerlink" title="2.1 开发"></a>2.1 开发</h2><p>我们使用 uv 来构建项目、管理依赖和创建虚拟环境：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.创建项目文件夹</span></span><br><span class="line">mkdir mcp_start</span><br><span class="line"><span class="comment"># 2.进入项目文件夹</span></span><br><span class="line"><span class="built_in">cd</span> mcp_start</span><br><span class="line"><span class="comment"># 3.初始化项目</span></span><br><span class="line">uv init -p 3.11</span><br><span class="line"><span class="comment"># 4.添加依赖 twine 用于发布包到 pypi</span></span><br><span class="line">uv add <span class="string">&quot;mcp[cli]==1.9.2&quot;</span></span><br><span class="line">uv add twine --group dev</span><br></pre></td></tr></table></figure><p>创建 <code>hello.py</code> ，写入以下内容：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mcp.server <span class="keyword">import</span> FastMCP</span><br><span class="line"></span><br><span class="line">app = FastMCP(<span class="string">&quot;hello-world&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.tool()</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">name: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;给对方欢迎提示语</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        name (str): 任何人的名字，当然，不是名字也行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        str: 欢迎提示语</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;hello,<span class="subst">&#123;name&#125;</span>!&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    app.run(transport=<span class="string">&quot;stdio&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>关键点：</p><ol><li>创建一个 FastMCP 实例 app，后续用此实例对象来定义工具和启动 MCP 服务</li><li>使用装饰器定义工具<code>@app.tool()</code></li><li>给函数完整的注释，注释要准确描述该函数的作用，包括参数、返回值；因为后续这些说明是要发给 LLM 的，如果描述不清晰，LLM 就不知道怎么用这个工具，如何传参等等</li><li>定义传输方式：<code>app.run(transport=&quot;stdio&quot;)</code> ，最常用的就是标准输入输出（本地运行的话），也可以用 SSE，放到服务器上运行</li></ol><p>现在写完这个文件了，如何启动？</p><p>可以使用 mcp 命令来启动服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mcp dev hello.py </span><br></pre></td></tr></table></figure><p>会自动跳出来一个调试的页面，如下图所示，地址是<code>http://localhost:6274/#resources</code></p><p>注意：需要从命令行把<code>Session token:</code> 后面的 token 粘贴到 configuration 中的 Proxy Session Token 中，点击 Connect，即可连接</p><a href="/articles/42bb0f/image-20250709222554763.png" class="gallery-item"><img src="/articles/42bb0f/image-20250709222554763.png" title="image-20250709222554763"></a><p>连接成功之后，点击 Tools ，再点击 ListTools，点击 hello，然后输入 name 进行工具调试工作：</p><a href="/articles/42bb0f/image-20250709222921057-2071364.png" class="gallery-item"><img src="/articles/42bb0f/image-20250709222921057-2071364.png" title="image-20250709222921057"></a><p>可以看到工具可以正常的请求和响应，现在可以准备发布工作了！</p><h2 id="2-2-发布"><a href="#2-2-发布" class="headerlink" title="2.2 发布"></a>2.2 发布</h2><h3 id="2-2-1-获取-pypi-token"><a href="#2-2-1-获取-pypi-token" class="headerlink" title="2.2.1 获取 pypi token"></a>2.2.1 获取 pypi token</h3><p>先准备 pypi 的 token：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pypi.org/manage/account/">https://pypi.org/manage/account/</a></p><p>登录之后滑到最下面，token 就是在这里创建：</p><a href="/articles/42bb0f/image-20250709223233263-2071556.png" class="gallery-item"><img src="/articles/42bb0f/image-20250709223233263-2071556.png" title="image-20250709223233263"></a><h3 id="2-2-2-配置-twine"><a href="#2-2-2-配置-twine" class="headerlink" title="2.2.2 配置 twine"></a>2.2.2 配置 twine</h3><p>twine 可以很方便的发布包到 pypi 上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建配置文件</span></span><br><span class="line">vim ~/.pypirc</span><br><span class="line"><span class="comment"># 写入以下内容</span></span><br><span class="line">[distutils]</span><br><span class="line">index-servers =</span><br><span class="line">    pypi</span><br><span class="line"></span><br><span class="line">[pypi]</span><br><span class="line">repository = https://upload.pypi.org/legacy/</span><br><span class="line">username = __token__</span><br><span class="line">password = ****</span><br></pre></td></tr></table></figure><p>里面的 password 字段后面写上刚刚申请的 token 即可</p><h3 id="2-2-3-项目配置文件"><a href="#2-2-3-项目配置文件" class="headerlink" title="2.2.3 项目配置文件"></a>2.2.3 项目配置文件</h3><p>项目配置文件，我们要配置项目的入口<code>mcp-start = &quot;hello:main&quot;</code>：</p><ul><li><code>mcp-start</code> 运行的命令名称，安装这个包之后，就可以在命令行运行这个 mcp-start 来执行</li><li><code>hello:main</code> 是 模块名:函数名，就是我们在命令行运行<code>mcp-start</code>命令时，这个函数就会被执行</li></ul><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;mcp-start&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.6&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Add your description here&quot;</span></span><br><span class="line"><span class="attr">readme</span> = <span class="string">&quot;README.md&quot;</span></span><br><span class="line"><span class="attr">requires-python</span> = <span class="string">&quot;&gt;=3.11&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = [<span class="string">&quot;mcp[cli]==1.9.2&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="section">[dependency-groups]</span></span><br><span class="line"><span class="attr">dev</span> = [</span><br><span class="line">    <span class="string">&quot;twine&gt;=6.1.0&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="section">[project.scripts]</span></span><br><span class="line"><span class="attr">mcp-start</span> = <span class="string">&quot;hello:main&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-2-4-打包"><a href="#2-2-4-打包" class="headerlink" title="2.2.4 打包"></a>2.2.4 打包</h3><p>直接在命令行运行 <code>uv build</code> 命令即可，运行之后会出现一个 dist 文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── __pycache__</span><br><span class="line">│   └── hello.cpython-311.pyc</span><br><span class="line">├── dist</span><br><span class="line">│   ├── mcp_start-0.1.6-py3-none-any.whl</span><br><span class="line">│   └── mcp_start-0.1.6.tar.gz</span><br><span class="line">├── hello.json</span><br><span class="line">├── hello.py</span><br><span class="line">├── mcp_start.egg-info</span><br><span class="line">│   ├── dependency_links.txt</span><br><span class="line">│   ├── entry_points.txt</span><br><span class="line">│   ├── PKG-INFO</span><br><span class="line">│   ├── requires.txt</span><br><span class="line">│   ├── SOURCES.txt</span><br><span class="line">│   └── top_level.txt</span><br><span class="line">├── pyproject.toml</span><br><span class="line">├── README.md</span><br><span class="line">├── release.json</span><br><span class="line">└── uv.lock</span><br></pre></td></tr></table></figure><h3 id="2-2-5-发布"><a href="#2-2-5-发布" class="headerlink" title="2.2.5 发布"></a>2.2.5 发布</h3><p>发布使用 <code>twine upload dist/* --verbose</code> ，–verbose 是展示更多的发布信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(mcp_start) ➜  mcp_start git:(master) ✗ twine upload dist/* --verbose</span><br><span class="line">INFO     Using configuration from /Users/powercheng/.pypirc   </span><br><span class="line">Uploading distributions to https://upload.pypi.org/legacy/</span><br><span class="line">INFO     dist/mcp_start-0.1.6-py3-none-any.whl (1.7 KB)    </span><br><span class="line">INFO     dist/mcp_start-0.1.6.tar.gz (1.3 KB)          </span><br><span class="line">INFO     username <span class="built_in">set</span> by <span class="built_in">command</span> options          </span><br><span class="line">INFO     password <span class="built_in">set</span> from config file          </span><br><span class="line">INFO     username: __token__               </span><br><span class="line">INFO     password: &lt;hidden&gt;             </span><br><span class="line">Uploading mcp_start-0.1.6-py3-none-any.whl</span><br><span class="line">100% ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.5/3.5 kB • 00:00 • ?</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">View at:</span><br><span class="line">https://pypi.org/project/mcp-start/0.1.6/</span><br></pre></td></tr></table></figure><h1 id="3-验证及使用"><a href="#3-验证及使用" class="headerlink" title="3. 验证及使用"></a>3. 验证及使用</h1><h2 id="3-1-验证"><a href="#3-1-验证" class="headerlink" title="3.1 验证"></a>3.1 验证</h2><p>直接看发布完之后的日志，最底下有一个地址，就是我们的包地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pypi.org/project/mcp-start/0.1.6/">https://pypi.org/project/mcp-start/0.1.6/</a></p><p>访问即可查看：</p><a href="/articles/42bb0f/image-20250710203818369-2151100-2151101.png" class="gallery-item"><img src="/articles/42bb0f/image-20250710203818369-2151100-2151101.png" title="image-20250710203818369"></a><h2 id="3-2-使用"><a href="#3-2-使用" class="headerlink" title="3.2 使用"></a>3.2 使用</h2><p>我们先自己写一个 json，就是装 mcp 的时候那个 json：</p><p>遵循下面的格式就好，我们使用 uvx 运行 mcp-start 程序！</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;mcpServers&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;hello&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;uvx&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">          <span class="string">&quot;mcp-start&quot;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>在 cursor 中安装：在 cursor 中找到 Tools 这个菜单，然后点击新增 MCP Server，把上面的 json 粘进去，然后保存就好</p><a href="/articles/42bb0f/image-20250710204256005-2151377.png" class="gallery-item"><img src="/articles/42bb0f/image-20250710204256005-2151377.png" title="image-20250710204256005"></a><p>在 Agent 模式下，触发 MCP 调用：</p><a href="/articles/42bb0f/image-20250710204745951-2151668-2151669.png" class="gallery-item"><img src="/articles/42bb0f/image-20250710204745951-2151668-2151669.png" title="image-20250710204745951"></a><p>至此，完成 MCP 服务从开发到发布全流程～</p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>var options;"undefined"!=typeof lightGallery&&(options={selector:".gallery-item"},lightGallery(document.getElementsByClassName(".article-gallery")[0],options))</script></div></article><div class="blog-post-comments"><div id="disqus_thread"><noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript></div></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-MCP-%E6%A6%82%E5%BF%B5%E7%AE%80%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">1. MCP 概念简述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Hello-MCP"><span class="toc-number">2.</span> <span class="toc-text">2. Hello MCP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%BC%80%E5%8F%91"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%8F%91%E5%B8%83"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E8%8E%B7%E5%8F%96-pypi-token"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.2.1 获取 pypi token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E9%85%8D%E7%BD%AE-twine"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.2.2 配置 twine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.2.3 项目配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-%E6%89%93%E5%8C%85"><span class="toc-number">2.2.4.</span> <span class="toc-text">2.2.4 打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-%E5%8F%91%E5%B8%83"><span class="toc-number">2.2.5.</span> <span class="toc-text">2.2.5 发布</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E9%AA%8C%E8%AF%81%E5%8F%8A%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">3. 验证及使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E9%AA%8C%E8%AF%81"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 使用</span></a></li></ol></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.powercheng.fun/articles/42bb0f/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/share?url=https://www.powercheng.fun/articles/42bb0f/&text=MCP 服务从开发到发布全流程"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.powercheng.fun/articles/42bb0f/&is_video=false&description=MCP 服务从开发到发布全流程"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=MCP 服务从开发到发布全流程&body=Check out this article: https://www.powercheng.fun/articles/42bb0f/" rel="external nofollow noreferrer"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://getpocket.com/save?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://reddit.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://digg.com/submit?url=https://www.powercheng.fun/articles/42bb0f/&title=MCP 服务从开发到发布全流程"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" href="http://www.tumblr.com/share/link?url=https://www.powercheng.fun/articles/42bb0f/&name=MCP 服务从开发到发布全流程&description=&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&#34; /&gt;&lt;div class=&#34;.article-gallery&#34;&gt;&lt;p&gt;使用 uv + Python 开发一个 MCP 服务从部署到发布全流程&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.powercheng.fun/articles/42bb0f/&t=MCP 服务从开发到发布全流程"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a> <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a> <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2021-2025 Caiden Hou</div><div class="footer-right"><nav><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></nav></div></footer></div><link rel="preload" href="/lib/font-awesome/css/all.min.css" as="style" onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"></noscript><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">$(function(){$(".highlight table").before('<span class="btn-copy tooltipped tooltipped-sw" aria-label="复制到粘贴板！"><i class="fa-regular fa-clone"></i></span>'),new ClipboardJS(".btn-copy",{text:function(e){return Array.from(e.nextElementSibling.querySelectorAll(".code")).reduce((e,t)=>e+t.innerText+"\n","")}}).on("success",function(e){e.trigger.setAttribute("aria-label","复制成功！"),e.clearSelection()})})</script><script src="/js/main.js"></script><script type="text/javascript">var disqus_shortname="caidens-blog";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script></body></html>