<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="description" content="对计算机网络中TCP&#x2F;IP五层模型每层的设备及工作进行介绍"><meta property="og:type" content="article"><meta property="og:title" content="TCP&#x2F;IP五层模型简单介绍"><meta property="og:url" content="https://www.powercheng.fun/articles/72268a5c/index.html"><meta property="og:site_name" content="Caiden&#39;s Blog"><meta property="og:description" content="对计算机网络中TCP&#x2F;IP五层模型每层的设备及工作进行介绍"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/6a3A2F6dc1image-20211027222208788.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/AAA45699f2image-20211027222247709.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/aEC45AFfc6image-20211027222308936.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/DB08b4d4cdimage-20211027222330346.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/f7BC5320Fbimage-20211027222427671.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/BB46DafAf3image-20211027222449519.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/e5AEB963a0image-20211027222505498.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/3b33F37e1Dimage-20211027222519473.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/891BCB042fimage-20211027222534701.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/398DECd8b3image-20211027222548905.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/2cda857447image-20211027222601840.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/6CbA216EaDimage-20211027222613471.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/0Ed0dbbA57image-20211027222627909.png"><meta property="og:image" content="https://www.powercheng.fun/articles/72268a5c/c7bbFA98C4image-20211027222642595.png"><meta property="article:published_time" content="2021-10-27T14:07:24.000Z"><meta property="article:modified_time" content="2025-11-19T03:04:36.839Z"><meta property="article:author" content="Caiden Hou"><meta property="article:tag" content="计算机网络"><meta property="article:tag" content="TCP&#x2F;IP"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.powercheng.fun/articles/72268a5c/6a3A2F6dc1image-20211027222208788.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="stylesheet" href="https://gw.alipayobjects.com/os/k/font/lxgwwenkaiscreenr.css"><title>TCP/IP五层模型简单介绍</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/true" title="Caiden&#39;s Blog" type="application/atom+xml"><meta name="generator" content="Hexo 5.4.0"></head><body class="max-width mx-auto px3 ltr"><div id="header-post"><a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" aria-label="顶部" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fa-solid fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" aria-label="上一篇" href="/articles/faafedbd/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" aria-label="下一篇" href="/articles/fed4c017/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" aria-label="返回顶部" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">上一篇</span> <span id="i-next" class="info" style="display:none">下一篇</span> <span id="i-top" class="info" style="display:none">返回顶部</span> <span id="i-share" class="info" style="display:none">分享文章</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.powercheng.fun/articles/72268a5c/"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/share?url=https://www.powercheng.fun/articles/72268a5c/&text=TCP/IP五层模型简单介绍"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.powercheng.fun/articles/72268a5c/&is_video=false&description=TCP/IP五层模型简单介绍"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=TCP/IP五层模型简单介绍&body=Check out this article: https://www.powercheng.fun/articles/72268a5c/" rel="external nofollow noreferrer"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://getpocket.com/save?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://reddit.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://digg.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" href="http://www.tumblr.com/share/link?url=https://www.powercheng.fun/articles/72268a5c/&name=TCP/IP五层模型简单介绍&description=&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&#34; /&gt;&lt;div class=&#34;.article-gallery&#34;&gt;&lt;p&gt;对计算机网络中TCP/IP五层模型每层的设备及工作进行介绍&lt;/p&gt;"><i class="fab fa-tumblr" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.powercheng.fun/articles/72268a5c/&t=TCP/IP五层模型简单介绍"><i class="fab fa-hacker-news" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">物理层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.</span> <span class="toc-text">以太网协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80"><span class="toc-number">3.2.</span> <span class="toc-text">MAC地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD"><span class="toc-number">3.3.</span> <span class="toc-text">广播</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.</span> <span class="toc-text">IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-number">4.2.</span> <span class="toc-text">IP数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.3.</span> <span class="toc-text">ARP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.4.</span> <span class="toc-text">端口的概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP"><span class="toc-number">5.1.</span> <span class="toc-text">UDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP"><span class="toc-number">5.2.</span> <span class="toc-text">TCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E6%AF%94%E8%BE%83"><span class="toc-number">5.3.</span> <span class="toc-text">两者比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">6.</span> <span class="toc-text">应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.1.</span> <span class="toc-text">DHCP协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BD%91%E5%9D%80%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%B9%8B%E9%97%B4%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="toc-number">7.</span> <span class="toc-text">浏览器输入一个网址，网络协议之间是怎么运作的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">8.</span> <span class="toc-text">参考</span></a></li></ol></div></span></div><div class="content index py4"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle p-name" itemprop="name headline">TCP/IP五层模型简单介绍</h1><div class="meta"><div class="postdate"><time datetime="2021-10-27T14:07:24.000Z" class="dt-published" itemprop="datePublished">2021-10-27</time> (Updated: <time datetime="2025-11-19T03:04:36.839Z" class="dt-updated" itemprop="dateModified">2025-11-19</time>)</div><div class="article-category"><i class="fa-solid fa-archive"></i> <a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="article-tag"><i class="fa-solid fa-tag"></i> <a class="p-category" href="/tags/TCP-IP/" rel="tag">TCP/IP</a>, <a class="p-category" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></div></div></header><div class="content e-content" itemprop="articleBody"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css"><div class=".article-gallery"><p>对计算机网络中TCP/IP五层模型每层的设备及工作进行介绍</p><span id="more"></span><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>互联网可以说是由一系列协议组成的。</p><p>分为好几层，每一层都是由下一层支持，就像盖房子一样</p><p>分层有七层和五层，这里只针对于五层协议来说。</p><a href="/articles/72268a5c/6a3A2F6dc1image-20211027222208788.png" class="gallery-item"><img src="/articles/72268a5c/6a3A2F6dc1image-20211027222208788.png" title="image-20211027222208788"></a><p>自底向上分为：</p><ol><li>物理层：把电脑连接起来的物理手段，通过电缆，光缆等等，作用就是负责传输0和1</li><li>数据链路层（MAC）：规定了多少个信号算一组，确定0和1的分组方式，也就是以太网协议</li><li>网络层（IP）：传输数据包，通过虚拟的IP地址；建立主机到主机之间的通信</li><li>传输层（TCP/UDP）：与远程计算机建议连接（Established），建立端口到端口的通信</li><li>应用层：生成数据和请求连接</li></ol><p>我们平时开发接触到的一般是应用层</p><a href="/articles/72268a5c/AAA45699f2image-20211027222247709.png" class="gallery-item"><img src="/articles/72268a5c/AAA45699f2image-20211027222247709.png" title="image-20211027222247709"></a><p>每一层之间如何联系工作？</p><a href="/articles/72268a5c/aEC45AFfc6image-20211027222308936.png" class="gallery-item"><img src="/articles/72268a5c/aEC45AFfc6image-20211027222308936.png" title="image-20211027222308936"></a><h2 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h2><p>把电脑连接起来的物理手段，通过电缆，光缆等等，作用就是负责传输0和1，就是传输电信号</p><h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><h3 id="以太网协议"><a href="#以太网协议" class="headerlink" title="以太网协议"></a>以太网协议</h3><p>规定了多少个信号算一组，确定0和1的分组方式，0和1的含义；也就是以太网协议</p><p>以太网规定一个数据帧由head和data组成：</p><a href="/articles/72268a5c/DB08b4d4cdimage-20211027222330346.png" class="gallery-item"><img src="/articles/72268a5c/DB08b4d4cdimage-20211027222330346.png" title="image-20211027222330346"></a><p>head：固定长度18字节，包含发送者和接收者的信息</p><p>data：最短46字节，最长1500字节</p><p>整个帧最短64字节，最长1518个字节</p><h3 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h3><p>以太网协议的head中包含了发送者和接收者的信息，如何确定发送者和接收者的身份？这就用到了MAC地址，head中有发送者和接收者的MAC地址，这个MAC地址也就是网卡的MAC地址，就是你的数据是通过哪一块网卡发送的。</p><p>MAC地址重复？每一块网卡出厂的时候都会有一个MAC地址，这个MAC地址是全世界独一无二的</p><p>当然MAC地址也可以通过某些软件修改</p><p>MAC地址具体长啥样？</p><p>12个十六进制数</p><p>可以查看计算机的网络属性，里面就有网卡的MAC地址：</p><a href="/articles/72268a5c/f7BC5320Fbimage-20211027222427671.png" class="gallery-item"><img src="/articles/72268a5c/f7BC5320Fbimage-20211027222427671.png" title="image-20211027222427671"></a><p>网卡长啥样？或者打开购物网站，搜索网卡；具体如下图</p><a href="/articles/72268a5c/BB46DafAf3image-20211027222449519.png" class="gallery-item"><img src="/articles/72268a5c/BB46DafAf3image-20211027222449519.png" title="image-20211027222449519"></a><h3 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h3><p>两个问题</p><ol><li><p>我咋知道对面网卡的MAC地址？</p><p>是通过ARP协议，在TCP/IP模型中，ARP协议属于网络层（IP层），在OSI七层模型中，ARP协议属于数据链路层</p></li><li><p>知道了MAC地址，怎么把数据包发送到对应MAC地址的计算机呢？</p><p>很原始的方式，就是广播，给同一个网络（子网）的所有计算机都要发送数据包，每个计算机检查自己收到的数据包，看看目标MAC地址是不是自己，不是自己就扔掉，是自己的就接受</p></li></ol><h2 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h2><p><strong>建立主机到主机之间的通信</strong></p><p>以太网的方式局限于子网络中，互联网是由无数个子网组成的一个巨型网络，当发数据包的时候，我们会，先看看是不是在同一个子网中，如果是同一个子网，就直接以太网的方式发送，也就是广播，如果不是同一个子网，就通过路由的方式发送，就是先找到对面的子网，然后再找mac具体计算机。</p><h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><p>这里只说IPV4</p><p><strong>简单认识下IP地址</strong></p><p>从0.0.0.0~255.255.255.255，看似只有四位，其实每一位都是由一个八位的二进制数组成</p><p>00000000.00000000.00000000.00000000 ~ 11111111.11111111.11111111.11111111</p><p>这个四位的十进制表示法其实是为了方便记忆</p><p>ip地址由网络地址和主机地址组成，网络地址就是看这俩ip是不是在一个子网里面</p><p><strong>如何区分IP地址的网络地址和主机地址？</strong></p><p>这就用到了子网掩码的概念：</p><p>【子网掩码】形式上和IP地址一样，都是四位的十进制数表示，每一位是由八个二进制数表示，它的特点就是网络地址的二进制数全是1，主机地址的二进制数全是0</p><p>如子网掩码：255.255.255.0，就是：11111111.11111111.11111111.0</p><p>【例子】：如192.168.1.3，他的子网掩码是255.255.255.0</p><p>区分哪几位是网络地址，可以拿ip地址和子网掩码做与运算，</p><p>11000000.10101000.00000001.00000011</p><p>11111111.11111111.11111111.00000000</p><p>11000000.10101000.00000001.00000000</p><p>192.168.1.0就是网路号</p><p>如果现在又来了个ip是192.168.1.5，和子网掩码（255.255.255.0）做与运算，得出网络号是192.168.1.0，所以这两个IP属于同一个子网中</p><h3 id="IP数据包"><a href="#IP数据包" class="headerlink" title="IP数据包"></a>IP数据包</h3><p>以太网数据包是否需要再加个栏位？存入发送方的ip和接收方的ip，那是没有必要的，我们有ip数据包，数据包中就已经存入了发送方ip和接收方ip，那这个ip数据包咋传呢？直接放入以太网数据包的data中即可</p><p>ip数据包也是由head和data组成</p><a href="/articles/72268a5c/e5AEB963a0image-20211027222505498.png" class="gallery-item"><img src="/articles/72268a5c/e5AEB963a0image-20211027222505498.png" title="image-20211027222505498"></a><p>将ip数据包放入以太网数据包，以太网数据包就是如下模样了：</p><a href="/articles/72268a5c/3b33F37e1Dimage-20211027222519473.png" class="gallery-item"><img src="/articles/72268a5c/3b33F37e1Dimage-20211027222519473.png" title="image-20211027222519473"></a><p>ip数据包最大也是65535字节，所以ip数据包的data中可以放65535-head（20）=65515个字节（head最小是20字节）</p><h3 id="ARP协议"><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h3><p>干啥的：通过主机ip找到主机的MAC地址</p><p>既然我们的ip数据包是放在下一层的以太网数据包里面，那么，我们必须知道目标主机的ip地址和MAC地址，ip地址我们知道，因为就是要向目标ip主机发数据包的，那么MAC地址怎么搞？所以就用到了ARP协议</p><ol><li>情况一：两个主机不在同一个子网，则发送至目标ip所在网关，然后具体寻址</li><li>情况二：两个主机在同一个子网，直接使用ARP协议，发送IP数据包，但是到以太网数据包封装的时候，目标MAC地址封装为FF:FF:FF:FF:FF:FF，表示这个是广播地址，那么所有计算机都会收到，然后看自己的ip是不是数据包中的ip，如果是则上报自己的MAC地址，然后就完成寻址</li></ol><h3 id="端口的概念"><a href="#端口的概念" class="headerlink" title="端口的概念"></a>端口的概念</h3><p>当一个数据包发来我们的电脑，我们现在正在浏览网页，还正在和朋友聊QQ，咱们怎么知道从网络上获取到的这个数据包是网页数据还是qq消息？所以就有了端口</p><p>原来，我们每一个应用（进程）都会监听一个计算机的端口，发过来的数据包也会指定是哪个端口应用来接收处理，<strong>端口其实是每一个使用网卡的程序的编号。</strong></p><p>端口号在0<del>65535之间，0</del>1023是计算机占用的，用户不可以占用，所以我们只能占用其他的</p><p>只要确定了主机和端口，我们就可以建立程序和程序之间的通信了，而网络层只能建立主机到主机之间的通信，所以就有了传输层！</p><h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><p>建立端口到端口之间的通信</p><p>只要确定主机和端口，我们就能建立程序和程序之间的通信了，所以unix系统就把主机+端口叫做套接字（Socket），有了Socket我们就可以进行网络编程了！传输层主要就是两大协议，TCP和UDP</p><h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><a href="/articles/72268a5c/891BCB042fimage-20211027222534701.png" class="gallery-item"><img src="/articles/72268a5c/891BCB042fimage-20211027222534701.png" title="image-20211027222534701"></a><p>也分为head和data，很简答，几乎就是在数据前面加上简单的发送和接受者的信息</p><p>head：存储发送端的ip和端口，接收端的ip和端口</p><p>data：存储数据</p><p>udp的head部分只有8字节，总长度不会超过65535个字节</p><p><strong>这个UDP数据包是放在IP数据包的data部分</strong></p><p>又因为IP数据包是放在以太网数据包的data部分，所以以太网数据包就是如下</p><a href="/articles/72268a5c/398DECd8b3image-20211027222548905.png" class="gallery-item"><img src="/articles/72268a5c/398DECd8b3image-20211027222548905.png" title="image-20211027222548905"></a><p>UDP协议简单轻便，性能消耗少，但是UDP不可靠，发出去不知道对面是否收到，这种情况下TCP就诞生了</p><h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><p>可以粗略的认为TCP是有确认机制的UDP</p><p>可以保证数据不会丢失，缺点是性能消耗大</p><p>TCP数据包无长度限制，但是一般不会超过IP数据包的长度</p><h3 id="两者比较"><a href="#两者比较" class="headerlink" title="两者比较"></a>两者比较</h3><p>早期QQ其实也是用的UDP，后来肯定换TCP了</p><a href="/articles/72268a5c/2cda857447image-20211027222601840.png" class="gallery-item"><img src="/articles/72268a5c/2cda857447image-20211027222601840.png" title="image-20211027222601840"></a><h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><p>应用层协议有：HTTP协议、FTP协议、SMTP协议（邮件传送协议）、DNS协议、WebServices协议和DHCP协议等等</p><p>应用层的数据包是放到了TCP或UDP的data里面的</p><p>最后总的包结构如下所示：</p><a href="/articles/72268a5c/6CbA216EaDimage-20211027222613471.png" class="gallery-item"><img src="/articles/72268a5c/6CbA216EaDimage-20211027222613471.png" title="image-20211027222613471"></a><p>两个子网中的计算机通信通过网关来通信</p><a href="/articles/72268a5c/0Ed0dbbA57image-20211027222627909.png" class="gallery-item"><img src="/articles/72268a5c/0Ed0dbbA57image-20211027222627909.png" title="image-20211027222627909"></a><h3 id="DHCP协议"><a href="#DHCP协议" class="headerlink" title="DHCP协议"></a>DHCP协议</h3><p>DHCP(Dynamic Host Configuration Protocol),动态主机配置协议，是一个应用层协议。 当我们将客户主机ip地址设置为动态获取方式时，DHCP服务器就会根据DHCP协议给客户端分配IP，使得客户机能够利用这个IP上网。</p><p>流程：子网中一台电脑开机，就向子网中的DHCP服务器发送一个DHCP数据包，申请一个IP和子网掩码网关等相关网络参数</p><p>新加入的机器自己没有ip，只有一个MAC地址，并不知道DHCP服务器的IP和MAC地址，这咋发数据包啊！</p><p>DHCP做了解决办法：</p><p>发出方ip：0.0.0.0 接收方ip：255.255.255.255</p><p>发出方的MAC地址：网卡的MAC地址 接收方的MAC地址：FF:FF:FF:FF:FF:FF</p><p>发出方端口：68 接收方端口：67端口</p><p>子网中每个计算机都会收到这个数据包（因为接收方MAC是全F，就是局域网内广播），DHCP服务器看到发出方IP是0.0.0.0，接收方是255.255.255.255就知道自己来活了，然后进行分配IP，进而返回一个DHCP响应，相关网络参数都在data里面了，然后新加入的机器就能上网了</p><a href="/articles/72268a5c/c7bbFA98C4image-20211027222642595.png" class="gallery-item"><img src="/articles/72268a5c/c7bbFA98C4image-20211027222642595.png" title="image-20211027222642595"></a><h2 id="浏览器输入一个网址，网络协议之间是怎么运作的？"><a href="#浏览器输入一个网址，网络协议之间是怎么运作的？" class="headerlink" title="浏览器输入一个网址，网络协议之间是怎么运作的？"></a>浏览器输入一个网址，网络协议之间是怎么运作的？</h2><ol><li>输入网址：DNS协议解析到IP，然后本机先查看这个ip和自己的子网掩码计算，看看是不是在一个子网中</li><li>一看不是在一个子网中，所以就必须得经过网关（路由器）进行转发</li><li>然后TCP协议将请求发到网关，设置发送方随机端口号，接收方网址的端口，一般是80</li><li>IP协议发送，指定发送方和接收方的IP</li><li>以太网协议，设置双方MAC地址，发送方是本机，接收方是网关MAC地址</li></ol><p>从咱们自己的网关发出去还需要经过多个网关的转发才会到服务器，然后服务器做响应，同样的步骤</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>本文的学习基于@biezhi大哥的视频学习的，视频链接：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.youtube.com/watch?v=iNITVjVLpxI&amp;list=PLK2w-tGRdrj4kATfdbiZmwQbI2NkYGGlY">https://www.youtube.com/watch?v=iNITVjVLpxI&amp;list=PLK2w-tGRdrj4kATfdbiZmwQbI2NkYGGlY</a></p></div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>var options;"undefined"!=typeof lightGallery&&(options={selector:".gallery-item"},lightGallery(document.getElementsByClassName(".article-gallery")[0],options))</script></div></article><div class="blog-post-comments"><div id="disqus_thread"><noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript></div></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">物理层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.</span> <span class="toc-text">以太网协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80"><span class="toc-number">3.2.</span> <span class="toc-text">MAC地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD"><span class="toc-number">3.3.</span> <span class="toc-text">广播</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.1.</span> <span class="toc-text">IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-number">4.2.</span> <span class="toc-text">IP数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.3.</span> <span class="toc-text">ARP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.4.</span> <span class="toc-text">端口的概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP"><span class="toc-number">5.1.</span> <span class="toc-text">UDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP"><span class="toc-number">5.2.</span> <span class="toc-text">TCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E6%AF%94%E8%BE%83"><span class="toc-number">5.3.</span> <span class="toc-text">两者比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">6.</span> <span class="toc-text">应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.1.</span> <span class="toc-text">DHCP协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BD%91%E5%9D%80%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%B9%8B%E9%97%B4%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="toc-number">7.</span> <span class="toc-text">浏览器输入一个网址，网络协议之间是怎么运作的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">8.</span> <span class="toc-text">参考</span></a></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.powercheng.fun/articles/72268a5c/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/share?url=https://www.powercheng.fun/articles/72268a5c/&text=TCP/IP五层模型简单介绍"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.powercheng.fun/articles/72268a5c/&is_video=false&description=TCP/IP五层模型简单介绍"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=TCP/IP五层模型简单介绍&body=Check out this article: https://www.powercheng.fun/articles/72268a5c/" rel="external nofollow noreferrer"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://getpocket.com/save?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://reddit.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="http://digg.com/submit?url=https://www.powercheng.fun/articles/72268a5c/&title=TCP/IP五层模型简单介绍"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" href="http://www.tumblr.com/share/link?url=https://www.powercheng.fun/articles/72268a5c/&name=TCP/IP五层模型简单介绍&description=&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css&#34; /&gt;&lt;div class=&#34;.article-gallery&#34;&gt;&lt;p&gt;对计算机网络中TCP/IP五层模型每层的设备及工作进行介绍&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.powercheng.fun/articles/72268a5c/&t=TCP/IP五层模型简单介绍"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a> <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a> <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2021-2025 Caiden Hou</div><div class="footer-right"><nav><ul><li><a href="/">首页</a></li><li><a href="/archives/">文章</a></li><li><a href="/categories/">分类</a></li><li><a href="/search/">搜索</a></li><li><a href="/about/">关于</a></li></ul></nav></div></footer></div><link rel="preload" href="/lib/font-awesome/css/all.min.css" as="style" onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"></noscript><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">$(function(){$(".highlight table").before('<span class="btn-copy tooltipped tooltipped-sw" aria-label="复制到粘贴板！"><i class="fa-regular fa-clone"></i></span>'),new ClipboardJS(".btn-copy",{text:function(e){return Array.from(e.nextElementSibling.querySelectorAll(".code")).reduce((e,t)=>e+t.innerText+"\n","")}}).on("success",function(e){e.trigger.setAttribute("aria-label","复制成功！"),e.clearSelection()})})</script><script src="/js/main.js"></script><script type="text/javascript">var disqus_shortname="caidens-blog";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script></body></html>